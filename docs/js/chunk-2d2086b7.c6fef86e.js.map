{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?c242"],"names":["_createVNode","_component_Authorization","authOption","onOnSubmit","$options","_component_Modal","icon","text","name","components","Authorization","Modal","methods","loginUser","body","$store","commit","api","auth","data","token","access_token","$router","push","localStorage","setItem","console","log","__exports__","render"],"mappings":"mRACEA,eAA0DC,EAAA,CAA3CC,WAAW,QAASC,WAAUC,aAA7C,uBACAJ,eAA6DK,EAAA,CAAtDC,KAAK,QAAQC,KAAK,qCAAzB,I,gEASa,GACbC,KAAM,QACNC,WAAY,CAAEC,qBAAeC,cAC7BC,QAAS,CACDC,UADC,SACSC,GAAM,yKACpB,EAAKC,OAAOC,OAAO,kBAAkB,GADjB,kBAGKC,OAAIC,KAAKL,UAAUC,GAHxB,gBAGVK,EAHU,EAGVA,KACFC,EAAQD,EAAKE,aAEfD,IACF,EAAKL,OAAOC,OAAO,wBAAwB,GAC3C,EAAKM,QAAQC,KAAK,KAClBC,aAAaC,QAAQ,eAAgBL,GACrC,EAAKL,OAAOC,OAAO,kBAAkB,IAVrB,qDAalB,EAAKD,OAAOC,OAAO,qBAAqB,GACxCU,QAAQC,IAAI,QAAZ,MAdkB,yBAgBlB,EAAKZ,OAAOC,OAAO,kBAAkB,GAhBnB,kF,qBCV1B,MAAMY,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d2086b7.c6fef86e.js","sourcesContent":["<template>\n  <Authorization authOption=\"login\" @onSubmit=\"loginUser\" />\n  <Modal icon=\"alert\" text=\"Неправильный e-mail или пароль.\" />\n</template>\n\n<script>\nimport Authorization from \"@/components/Authorization.vue\";\nimport Modal from \"@/components/Modal.vue\";\n\nimport api from \"@/services/api\";\n\nexport default {\n  name: \"Login\",\n  components: { Authorization, Modal },\n  methods: {\n    async loginUser(body) {\n      this.$store.commit(\"SET_IS_LOADING\", true);\n      try {\n        const { data } = await api.auth.loginUser(body);\n        const token = data.access_token;\n\n        if (token) {\n          this.$store.commit(\"SET_IS_AUTHENTICATED\", true);\n          this.$router.push(\"/\");\n          localStorage.setItem(\"access_token\", token);\n          this.$store.commit(\"SET_IS_LOADING\", false);\n        }\n      } catch (error) {\n        this.$store.commit(\"SET_IS_MODAL_OPEN\", true);\n        console.log(\"ERROR\", error);\n      } finally {\n        this.$store.commit(\"SET_IS_LOADING\", false);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=9d82c46e\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/bixxter/DEV/Choco/team_1/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}